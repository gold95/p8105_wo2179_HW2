---
title: "Homework 2"
author: Wuraola Olawole
output: github_document
---



```{r initial setup, message = FALSE}

    library(tidyverse)
      library(readxl)
```

# Problem 1

Set a path

```{r set_path}

  path_2_data = "./Data/Trash-Wheel-Collection-Totals-8-6-19.xlsx"

```

Read dataset, Mr. Trashwheel, set parameters, and modify sports_balls

```{r trash_df}

trashwheel_df =

    read_excel(
                path = path_2_data,
                  sheet = "Mr. Trash Wheel",
                    range = cell_cols("A:N"),
                      col_types = NULL,
                        skip = 0) %>%
        janitor::clean_names() %>%
          drop_na(dumpster) %>%
            mutate(
                  sports_balls = round(sports_balls),
                  sports_balls = as.integer(sports_balls)
  )
  
```
Read data on Precipitation in 2017 and in 2018 and add variable "year"

```{r}

path_2_data = "./Data/Trash-Wheel-Collection-Totals-8-6-19.xlsx"

  precipi_17_df =
  
  read_excel(
              path = path_2_data,
                sheet = "2017 Precipitation",
                  col_types = NULL,
                    skip = 1) %>%
    janitor::clean_names() %>%
      drop_na(month) %>%
        mutate(
                year = 2017) %>%
  relocate(year)

```
```{r}

precipi_18_df =
  
  read_excel(
                path = path_2_data,
                  sheet = "2018 Precipitation",
                    col_types = NULL,
                      skip = 1) %>%
  janitor::clean_names() %>%
    drop_na(month) %>%
      mutate(
              year = 2018) %>%
  relocate(year)

```
Combine precipitation dataset and Change month to Character variable

```{r month_df}

month_df =
    tibble(
            month = 1:12,
            month_name = month.name
    )
```
```{r Precip_17_18}

precipi_df = 
            bind_rows(precipi_17_df, precipi_18_df)

precipi_df =
            left_join(precipi_df, month_df, by = "month")

```
  Mr. TrashWheel data set contained data about trash that was collected in a dumpster (by Mr. TrashWheel) as it entered the inner harbor in Baltimore Maryland. The data set contained variables year and date of trash collection as well as the weights in tons and volume of the trash collected. It also provided information about the categories of trash collected in the dumpster. In this data set (final outcome), there were `r nrow (trashwheel_df)`. There were also additional sheets that provided information about precipitation; the month and total amount of precipitation in 2017 and 2018.

The total precipitation observed in 2018 was `r precipi_18_df %>% filter(year == 2018) %>% pull(total) %>% sum()` inches and the median number of sports balls in the dumpster in 2017 was `r trashwheel_df %>% filter(year == 2017) %>% pull(sports_balls) %>% median()`.


# problem 2

Read the NYC~ csv data, retain select variables,convert 'entry' variable from character to logical variable using the 'recode' function.

```{r NYC_df, message = FALSE}

path_3_data = "./Data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv"
  
  NYC_df = 
    
    read_csv(
             path_3_data) %>% 
              janitor::clean_names() %>% 
                select(2:18, 20, 23) %>%
  mutate(
    entry = recode(entry, "YES" = TRUE, "NO" = FALSE)) %>%
    mutate_at(vars(route8:route11), as.character)             # convert dbl variables to chr variables
  
```
